var Bikram;(()=>{"use strict";var e={98:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Tithi=t.Bikram=void 0,t.Bikram=class{constructor(){this.Year=0,this.Month=-1,this.Day=0,this.YugaRotation_star=1582237828,this.YugaRotation_sun=432e4,this.YugaCivilDays=this.YugaRotation_star-this.YugaRotation_sun,this.PlanetApogee_sun=77+17/60,this.PlanetCircumm_sun=13+50/60,this.rad=57.2957795}getJulianDate(e,t,n){t<=2&&(e-=1,t+=12);const a=Math.floor(e/100),o=2-a+Math.floor(a/4);return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+n+o-1524.5}fromJulianDate(e){const t=Math.floor(e+.5),n=t+1537,a=Math.floor((n-122.1)/365.25),o=Math.floor(365.25*a),r=Math.floor((n-o)/30.6001),i=n-o-Math.floor(30.6001*r)+(e+.5-t),s=r<14?r-1:r-13;return{year:s>2?a-4716:a-4715,month:s,day:Math.floor(i)}}getSauraMasaDay(e){let t,n;if(this.todaySauraMasaFirstP(e)){n=1;const a=this.getTslong(e+1);t=(Math.floor(a/30)%12+12)%12}else{const a=this.getSauraMasaDay(e-1);n=a.day+1,t=a.month}return{month:t,day:n}}todaySauraMasaFirstP(e){const t=this.getTslong(e),n=this.getTslong(e+1),a=t-30*Math.floor(t/30),o=n-30*Math.floor(n/30);return 25<a&&o<5?1:0}getTslong(e){const t=this.YugaRotation_sun*e/this.YugaCivilDays%1*360,n=t-this.PlanetApogee_sun,a=this.PlanetCircumm_sun/360*Math.sin(n/this.rad);return t-Math.asin(a)*this.rad}daysInMonth(e,t){let{year:n,month:a,day:o}=this.toGregorian(e,t,1),r=this.getJulianDate(n,a,o),i=t%12+1,s=12===t?e+1:e,{year:l,month:g,day:d}=this.toGregorian(s,i,1),u=this.getJulianDate(l,g,d);return Math.floor(u-r)}fromGregorian(e,t,n){const a=this.getJulianDate(e,t,n)-588465.5,{month:o,day:r}=this.getSauraMasaDay(a),i=Math.floor(a*this.YugaRotation_sun/this.YugaCivilDays)-3179,s=o%12;this.Year=i+135+Math.floor((o-s)/12),this.Month=(o+12)%12,this.Day=r}toGregorian(e,t,n){const a=e-135+3179;let o=Math.floor(a*this.YugaCivilDays/this.YugaRotation_sun),{month:r,day:i}=this.getSauraMasaDay(o);for(t=(t+11)%12;r!==t||i!==n;)o+=r<t||r===t&&i<n?1:-1,({month:r,day:i}=this.getSauraMasaDay(o));const s=o+588465.5;return this.fromJulianDate(s)}fromNepali(e,t,n){const{year:a,month:o,day:r}=this.toGregorian(e,t,n);this.Year=a,this.Month=o-1,this.Day=r}getYear(){return this.Year}getMonth(){return this.Month+1}getDay(){return this.Day}getWeekdayName(e,t,n){return["आइतबार","सोमबार","मंगलबार","बुधबार","बिहीबार","शुक्रबार","शनिबार"][new Date(e,t-1,n).getDay()]}getMonthName(e){if(e<1||e>12)throw new Error("Invalid month number");return["बैसाख","जेष्ठ","आषाढ","श्रावण","भाद्र","आश्विन","कार्तिक","मंसिर","पौष","माघ","फागुन","चैत"][e-1]}},t.Tithi=class{calculateTithi(e,t,n,a=86.25){const o=(this.getJulianDate(e,t,n)-2451545)/36525;let r=this.getMoonLongitude(o),i=this.getSunLongitude(o);const s=5.75-a/360*24;r=this.adjustLongitude(r,s),i=this.adjustLongitude(i,s);let l=r-i;l<0&&(l+=360);let g=Math.floor(l/12);return g=(g+30)%30,{tithi:this.getTithiName(g)||"अज्ञात",paksha:this.getPaksha(g)}}adjustLongitude(e,t){return((e+=15*t)+360)%360}getJulianDate(e,t,n){t<=2&&(e-=1,t+=12);const a=Math.floor(e/100),o=2-a+Math.floor(a/4);return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+n+o-1524.5}getMoonLongitude(e){const t=297.8502+445267.1115*e,n=134.963+477198.8671*e;return(218.316+481267.8813*e+6.289*Math.sin(n*Math.PI/180)-1.274*Math.sin((2*t-n)*Math.PI/180)-.658*Math.sin(2*t*Math.PI/180)-.214*Math.sin(2*n*Math.PI/180)+.11*Math.sin(t*Math.PI/180))%360}getSunLongitude(e){const t=357.5291+35999.0503*e;return(280.4665+36000.7698*e+((1.9146-.004817*e-14e-6*e*e)*Math.sin(t*Math.PI/180)+(.019993-101e-6*e)*Math.sin(2*t*Math.PI/180)+289e-6*Math.sin(3*t*Math.PI/180)))%360}getTithiName(e){return["प्रतिपदा","द्वितीया","तृतीया","चतुर्थी","पञ्चमी","षष्ठी","सप्तमी","अष्टमी","नवमी","दशमी","एकादशी","द्वादशी","त्रयोदशी","चतुर्दशी","पूर्णिमा","प्रतिपदा","द्वितीया","तृतीया","चतुर्थी","पञ्चमी","षष्ठी","सप्तमी","अष्टमी","नवमी","दशमी","एकादशी","द्वादशी","त्रयोदशी","चतुर्दशी","अमावस्या"][e]}getPaksha(e){return e<15?"शुक्ल":"कृष्ण"}}},532:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.showCurrentMonth=l,t.getfirstWeekday=g,t.convertToDevanagari=d,t.generateCalendar=u,t.loadEventsForYear=c,t.checkEvent=h,t.getEventText=m,t.getEventDetail=y,t.showEventDetails=function(e,t,n,a,o,r,i,s,l){const g=document.getElementById("tithiModal"),u=document.getElementById("tithiInfo"),c=v(a);let h=`\n        <div class="bikram-date"><strong>${`${d(parseInt(o))} ${M(parseInt(r))} ${d(parseInt(i))} गते ${c}`}</strong></div>\n        <div class="tithi-paksha"><strong>${n}, ${t}</strong></div>\n        <div class="gregorian-date">${`${a.split("/")[2]} ${w(parseInt(a.split("/")[1]))} ${a.split("/")[0]}`}</div>\n    `;s&&l&&(h+=`\n            <div class="event-text"><strong>Event:</strong> ${s}</div>\n            <div class="event-detail">${l.replace(/\n/g,"<br>")}</div>\n        `),u.innerHTML=h,g.style.display="block"},t.getWeekdayFromGregorianDate=v,t.closeModal=function(){document.getElementById("tithiModal").style.display="none"},t.handleModalClick=function(e){const t=document.getElementById("tithiModal");e.target===t&&(t.style.display="none")},t.getMonthNameWithDefaultLanguage=M,t.previousYear=function(){r--,document.getElementById("yearInput").value=r.toString(),u(r,i),c(r,(e=>{u(r,i)}))},t.nextYear=function(){r++,document.getElementById("yearInput").value=r.toString(),u(r,i),c(r,(e=>{u(r,i)}))},t.changeMonth=function(){i=parseInt(document.getElementById("monthSelector").value),u(r,i),c(r,(e=>{u(r,i)}))},t.changeYear=function(){r=parseInt(document.getElementById("yearInput").value),c(r,(e=>{u(r,i),c(r,(e=>{u(r,i)}))}))},t.goToToday=function(){const e=new Date,t=new a.Bikram;t.fromGregorian(e.getFullYear(),e.getMonth()+1,e.getDate()),r=t.getYear(),i=t.getMonth(),document.getElementById("yearInput").value=r.toString(),document.getElementById("monthSelector").value=i.toString(),c(r,(e=>{u(r,i)}))},t.getGregorianDate=p,t.getLastDayOfGregorian=f,t.getGregorianMonthName=w,t.formatGregorianMonthDisplay=b;const a=n(98),o=n(98);let r,i,s;function l(){const e=new Date,t=new a.Bikram;t.fromGregorian(e.getFullYear(),e.getMonth()+1,e.getDate()),r=t.getYear(),i=t.getMonth(),s=t.getDay(),document.getElementById("yearInput").value=r.toString(),document.getElementById("monthSelector").value=i.toString(),c(r,(e=>{u(r,i)}))}function g(e,t){const n=(new a.Bikram).toGregorian(e,t,1);return new Date(n.year,n.month-1,n.day).getDay()}function d(e){const t=["०","१","२","३","४","५","६","७","८","९"];return e.toString().split("").map((e=>t[parseInt(e,10)])).join("")}function u(e,t,n){const r=document.getElementById("calendar");r.innerHTML="";const i=(new a.Bikram).daysInMonth(e,t),s=new a.Bikram,l=new Date,u=new a.Bikram;u.fromGregorian(l.getFullYear(),l.getMonth()+1,l.getDate());const c=u.getYear(),v=u.getMonth(),w=u.getDay(),D=M(t),E=b(p(e,t,1),f(e,t));let B=`<h2>${D} ${d(e)} <span class="gregorian-month-display">${E}</span></h2><table><tr>`;["आइतवार","सोमवार","मङ्गलवार","बुधवार","बिहीवार","शुक्रवार","शनिवार"].forEach((e=>{B+=`<th>${e}</th>`})),B+="</tr><tr>";const T=g(e,t);for(let e=0;e<T;e++)B+='<td class="empty"></td>';for(let n=1;n<=i;n++){const a=n===w&&t===v&&e===c?"today":"",r=(T+n-1)%7==6?"saturday":"",l=a?` ${a}`:"",g=new o.Tithi,u=s.toGregorian(e,t,n),M=g.calculateTithi(u.year,u.month,u.day);let p="";"पूर्णिमा"===M.tithi?p='<img src="assets/purnima.png" alt="Purnima" style="width:30px;height:30px;">':"अमावस्या"===M.tithi&&(p='<img src="assets/amawasya.png" alt="Amawasya" style="width:30px;height:30px;">');let f="",b="";const D=h(bikramFixedEvents,e,t,n,"bikram")||h(gregorianEvents,u.year,u.month,u.day,"gregorian")||h(bikramRecurringEvents,e,t,n,"brecurring");D&&(f=m(bikramFixedEvents,e,t,n,"bikram")||m(gregorianEvents,u.year,u.month,u.day,"gregorian")||m(bikramRecurringEvents,e,t,n,"brecurring"),b=y(bikramFixedEvents,e,t,n,"bikram")||y(gregorianEvents,u.year,u.month,u.day,"gregorian")||y(bikramRecurringEvents,e,t,n,"brecurring")),B+=`<td class="${l} ${r}" onclick="showEventDetails('${d(n)}/${d(t)}/${d(e)}', '${M.tithi}', '${M.paksha}', '${u.day}/${u.month}/${u.year}', '${e}', '${t}', '${n}', '${f.replace(/'/g,"\\'")}', '${b.replace(/'/g,"\\'")}')">\n            <div class="day-content">\n                <div>${d(n)}</div>\n                <div class="tithi">\n                    ${D?"":M.tithi}\n                    ${p}\n                </div>\n                ${D?`<div class="event">${f}</div>`:""}\n                <div class="gregorian">${u.day}</div>\n            </div>\n        </td>`,(T+n)%7==0&&n!==i&&(B+="</tr><tr>")}const I=(T+i)%7;if(0!==I)for(let e=0;e<7-I;e++)B+='<td class="empty"></td>';B+="</tr></table>",r.innerHTML=B}function c(e,t){let n;2081===e?(n="events/events-2081.js",console.log(`Loading events for the year ${e}`)):2082===e?(n="events/events-2082.js",console.log(`Loading events for the year ${e}`)):2083===e?(n="events/events-2083.js",console.log(`Loading events for the year ${e}`)):(n="events/noevents.js",console.log(`No events for the year ${e}`));const a=document.createElement("script");a.src="events/events.js",a.onload=()=>{const e=document.createElement("script");e.src=n,e.onload=()=>{t([])},e.onerror=()=>{console.error(`Error loading script: ${n}`),t([])},document.head.appendChild(e)},a.onerror=()=>{console.error("Error loading events.js"),t([])},document.head.appendChild(a)}function h(e,t,n,a,o){let r=!1;return e.forEach((e=>{if(!(e.startYear&&t<e.startYear||e.endYear&&t>e.endYear)&&!1!==e.showOnDay)if("bikram"===o){const[o,i,s]=e.date.split("/").map(Number);t===o&&n===i&&a===s&&(r=!0)}else if("gregorian"===o||"brecurring"===o){const[t,o]=e.date.split("/").map(Number);n===t&&a===o&&(r=!0)}})),r}function m(e,t,n,a,o){let r="";return e.forEach((e=>{if(!(e.startYear&&t<e.startYear||e.endYear&&t>e.endYear)&&!1!==e.showOnDay)if("bikram"===o){const[o,i,s]=e.date.split("/").map(Number);t===o&&n===i&&a===s&&(r+=`<div>${e.event}</div>`)}else if("gregorian"===o||"brecurring"===o){const[t,o]=e.date.split("/").map(Number);n===t&&a===o&&(r+=`<div>${e.event}</div>`)}})),r}function y(e,t,n,a,o){let r="";return e.forEach((e=>{if(!(e.startYear&&t<e.startYear||e.endYear&&t>e.endYear))if("bikram"===o){const[o,i,s]=e.date.split("/").map(Number);t===o&&n===i&&a===s&&(r+=`<div>${e.detail}</div>`)}else if("gregorian"===o||"brecurring"===o){const[t,o]=e.date.split("/").map(Number);n===t&&a===o&&(r+=`<div>${e.detail}</div>`)}})),r}function v(e){const[t,n,a]=e.split("/").map(Number);return["आइतबार","सोमबार","मंगलबार","बुधबार","बिहिबार","शुक्रबार","शनिबार"][new Date(a,n-1,t).getDay()]}function M(e,t){const n=new a.Bikram;return n.getMonthName.bind(n),n.getMonthName=function(e){return["बैसाख","जेष्ठ","आषाढ","श्रावण","भाद्र","आश्विन","कार्तिक","मंसिर","पौष","माघ","फागुन","चैत"][e-1]},n.getMonthName(e)}function p(e,t,n){return(new a.Bikram).toGregorian(e,t,n)}function f(e,t){const n=(new a.Bikram).toGregorian(e,t+1,1),o=new Date(n.year,n.month-1,n.day-1);return{day:o.getDate(),month:o.getMonth()+1,year:o.getFullYear()}}function w(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][e-1]}function b(e,t){return e.year===t.year?e.month===t.month?`${e.year} ${w(e.month)}`:`${e.year} ${w(e.month)}/${w(t.month)}`:`${e.year}/${t.year} ${w(e.month)}/${w(t.month)}`}window.onload=l},276:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.translations=void 0,t.toggleConverter=function(){const e=document.getElementById("gregorianToBikramContainer"),t=document.getElementById("bikramToGregorianContainer"),n=document.getElementById("converterToggle");(null==n?void 0:n.checked)?(null==e||e.classList.remove("active"),null==t||t.classList.add("active")):(null==e||e.classList.add("active"),null==t||t.classList.remove("active"))},t.populateDateDropdowns=r,t.changeLanguage=i,t.convertToBikram=function(){const e=parseInt(document.getElementById("gYear").value),t=document.getElementById("gMonth").selectedIndex+1,n=parseInt(document.getElementById("gDay").value),o=new a.Bikram;o.fromGregorian(e,t,n);const r=o.getYear(),i=o.getMonth(),s=o.getMonthName(i),l=o.getDay(),g=o.getWeekdayName(e,t,n),d=(new a.Tithi).calculateTithi(e,t,n);document.getElementById("bikramResult").innerText=`${r} ${s} ${l} ${g} (${d.paksha}, ${d.tithi})`},t.convertToGregorian=function(){const e=parseInt(document.getElementById("bsYear").value),n=parseInt(document.getElementById("bsMonth").value),r=parseInt(document.getElementById("bsDay").value),i=new a.Bikram;i.fromNepali(e,n,r);const s=i.getYear(),l=i.getMonth(),g=i.getDay(),d=t.translations[o].gMonths[l-1],u=i.getWeekdayName(s,l,g);document.getElementById("gregorianResult").innerText=`${s} ${d} ${g} ${u}`};const a=n(98);let o="nepali";function r(){const e=new Date,n=e.getFullYear(),r=e.getMonth()+1,i=e.getDate(),s=document.getElementById("gYear");s.innerHTML="";for(let e=n-10;e<=n+10;e++){const t=document.createElement("option");t.value=e.toString(),t.textContent=e.toString(),s.appendChild(t)}s.value=n.toString();const l=document.getElementById("gMonth");l.innerHTML="",t.translations[o].gMonths.forEach(((e,t)=>{const n=document.createElement("option");n.value=(t+1).toString(),n.textContent=e,l.appendChild(n)})),l.value=r.toString();const g=document.getElementById("gDay");g.innerHTML="";const d=new Date(n,r,0).getDate();for(let e=1;e<=d;e++){const t=document.createElement("option");t.value=e.toString(),t.textContent=e.toString(),g.appendChild(t)}g.value=i.toString();const u=new a.Bikram;u.fromGregorian(n,r,i);const c=u.getYear(),h=u.getMonth(),m=u.getDay(),y=document.getElementById("bsYear");y.innerHTML="";for(let e=c-10;e<=c+10;e++){const t=document.createElement("option");t.value=e.toString(),t.textContent=e.toString(),y.appendChild(t)}y.value=c.toString();const v=document.getElementById("bsMonth");v.innerHTML="",t.translations[o].bsMonths.forEach(((e,t)=>{const n=document.createElement("option");n.value=(t+1).toString(),n.textContent=e,v.appendChild(n)})),v.value=h.toString();const M=document.getElementById("bsDay");M.innerHTML="";const p=u.daysInMonth(c,h);for(let e=1;e<=p;e++){const t=document.createElement("option");t.value=e.toString(),t.textContent=e.toString(),M.appendChild(t)}M.value=m.toString()}function i(){o=document.getElementById("language").value;const e=t.translations[o];document.getElementById("title").innerText=e.title,document.getElementById("nepali").innerText=e.nepali,document.getElementById("english").innerText=e.english,document.getElementById("languageLabel").innerText=e.languageLabel,document.getElementById("convertToBikramTitle").innerText=e.convertToBikramTitle,document.getElementById("gYearLabel").innerText=e.gYearLabel,document.getElementById("gMonthLabel").innerText=e.gMonthLabel,document.getElementById("gDayLabel").innerText=e.gDayLabel,document.getElementById("convertToBikramButton").innerText=e.convertToBikramButton,document.getElementById("convertToGregorianTitle").innerText=e.convertToGregorianTitle,document.getElementById("bsYearLabel").innerText=e.bsYearLabel,document.getElementById("bsMonthLabel").innerText=e.bsMonthLabel,document.getElementById("bsDayLabel").innerText=e.bsDayLabel,document.getElementById("convertToGregorianButton").innerText=e.convertToGregorianButton,r(),document.getElementById("bikramResult").innerText="",document.getElementById("gregorianResult").innerText=""}window.addEventListener("load",(()=>{document.getElementById("language").value="nepali",i()})),t.translations={english:{title:"Date Converter",english:"English",nepali:"Nepali",languageLabel:"Select Language:",convertToBikramTitle:"Convert to Bikram Sambat",gYearLabel:"Year:",gMonthLabel:"Month:",gDayLabel:"Day:",convertToBikramButton:"Convert to Bikram Sambat",convertToGregorianTitle:"Convert to Gregorian",bsYearLabel:"Year:",bsMonthLabel:"Month:",bsDayLabel:"Day:",convertToGregorianButton:"Convert to Gregorian",gMonths:["January","February","March","April","May","June","July","August","September","October","November","December"],bsMonths:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Poush","Magh","Falgun","Chaitra"]},nepali:{title:"मिति रूपान्तरण",english:"अङ्ग्रेजी",nepali:"नेपाली",languageLabel:"भाषा चयन गर्नुहोस्:",convertToBikramTitle:"विक्रम सम्बतमा रूपान्तरण",gYearLabel:"वर्ष:",gMonthLabel:"महिना:",gDayLabel:"दिन:",convertToBikramButton:"विक्रम सम्बतमा रूपान्तरण गर्नुहोस्",convertToGregorianTitle:"इसवि सम्बतमा रूपान्तरण",bsYearLabel:"वर्ष:",bsMonthLabel:"महिना:",bsDayLabel:"दिन:",convertToGregorianButton:"इसवि सम्बतमा रूपान्तरण गर्नुहोस्",gMonths:["जनवरी","फेब्रुअरी","मार्च","अप्रिल","मे","जुन","जुलाई","अगस्ट","सेप्टेम्बर","अक्टोबर","नोभेम्बर","डिसेम्बर"],bsMonths:["बैसाख","जेष्ठ","आषाढ","श्रावण","भाद्र","आश्विन","कार्तिक","मंसिर","पौष","माघ","फागुन","चैत"]}}}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,n),r.exports}var a={};(()=>{var e=a;Object.defineProperty(e,"__esModule",{value:!0});const t=n(276),o=n(532);window.toggleConverter=t.toggleConverter,window.populateDateDropdowns=t.populateDateDropdowns,window.changeLanguage=t.changeLanguage,window.convertToBikram=t.convertToBikram,window.convertToGregorian=t.convertToGregorian,window.showCurrentMonth=o.showCurrentMonth,window.getfirstWeekday=o.getfirstWeekday,window.convertToDevanagari=o.convertToDevanagari,window.generateCalendar=o.generateCalendar,window.loadEventsForYear=o.loadEventsForYear,window.checkEvent=o.checkEvent,window.getEventText=o.getEventText,window.getEventDetail=o.getEventDetail,window.showEventDetails=o.showEventDetails,window.getWeekdayFromGregorianDate=o.getWeekdayFromGregorianDate,window.closeModal=o.closeModal,window.handleModalClick=o.handleModalClick,window.getMonthNameWithDefaultLanguage=o.getMonthNameWithDefaultLanguage,window.previousYear=o.previousYear,window.nextYear=o.nextYear,window.changeMonth=o.changeMonth,window.changeYear=o.changeYear,window.goToToday=o.goToToday,window.getGregorianDate=o.getGregorianDate,window.getLastDayOfGregorian=o.getLastDayOfGregorian,window.getGregorianMonthName=o.getGregorianMonthName,window.formatGregorianMonthDisplay=o.formatGregorianMonthDisplay})(),Bikram=a})();